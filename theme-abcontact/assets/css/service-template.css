
/* ---------------- VARIABLES ---------------- */
:root{
  --site-max: 1180px;
  --container-pad: 20px;

  --primary-blue: #2050f2;
  --text-color: #0f1724; /* near-black for headings */
  --muted: #6b7280;

  /* header offset (fallback; JS may override) */
  --site-header-offset: 84px;

  /* Spacing (tweak these for global changes) */
  --hero-to-intro-gap: 32px;          /* gap between hero and intro */
  --intro-bottom-desktop: 64px;      /* gap between intro and next block */
  --intro-bottom-mobile: 36px;
  --how-subgap-desktop: 32px;         /* gap between how subtitle and grid */
  --how-grid-top-desktop: 28px;       /* extra top margin for how grid */
  --reviews-subgap-desktop: 36px;     /* gap between reviews subtitle and cards */
  --reviews-inner-top: 12px;
  --content-gap-lg: 48px;
}

/* ---------------- BOX-SIZING & CONTAINER ---------------- */
*, *::before, *::after { box-sizing: border-box; }
.container { max-width: var(--site-max); margin: 0 auto; padding: 0 var(--container-pad); }

/* ---------------- HERO ---------------- */
/* Respect fixed header offset; a JS helper may set --site-header-offset dynamically */
.news-hero,
.sp-hero,
.news-hero-block {
  padding-top: var(--site-header-offset) !important;
  background-size: cover;
  background-position: center center;
  box-sizing: border-box;
}
.news-hero .news-hero-inner,
.sp-hero .sp-hero-inner {
  position: relative;
  z-index: 3;
  width: 100%;
  text-align: center;
  padding: 48px 20px;
}

/* Hero typography */
.sp-hero-title,
.news-hero .news-hero-title {
  font-size: clamp(1.6rem, 2.6vw, 2.8rem);
  font-weight: 700;
  color: #fff;
  margin: 0;
  text-shadow: 0 6px 20px rgba(2,10,30,0.18);
}
.sp-hero-sub,
.news-hero .news-hero-sub {
  color: rgba(255,255,255,0.92);
  margin-top: 8px;
}

/* ---------------- INTRO (title single col, body two cols) ---------------- */
/* Keep a small gap between hero and intro and a reserved margin under intro */
.sp-intro {
  padding: 0 0 0;
  margin-top: var(--hero-to-intro-gap);
  margin-bottom: var(--intro-bottom-desktop);
  text-align: center;
  position: relative;
  z-index: 1;
}
.sp-intro-inner { max-width: 980px; margin: 0 auto; }
.sp-intro-title { margin: 0 0 28px; font-size: 1.9rem; font-weight:700; color: var(--text-color); }
.sp-intro-body {
  color: var(--muted);
  line-height: 1.8;
  column-count: 2;
  column-gap: var(--content-gap-lg);
  text-align: left;
  font-size: 1.02rem;
  margin: 0 auto;
}
@media (max-width:1100px) {
  .sp-intro { margin-bottom: calc(var(--intro-bottom-desktop) * 0.85); }
}
@media (max-width:900px) {
  .sp-intro { margin-bottom: var(--intro-bottom-mobile); margin-top: 20px; }
  .sp-intro-body { column-count: 1; padding: 0 18px; text-align:center; }
}

/* ---------------- FULL-BLEED IMAGE ---------------- */
.sp-full-image {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  overflow: hidden;
  margin-top: 24px; /* extra breathing room from intro */
  margin-bottom: 56px;
}
.sp-full-image img {
  display:block;
  width:100%;
  height: 260px;
  object-fit: cover;
}
@media (max-width:1100px) { .sp-full-image img { height: 220px; } }
@media (max-width:900px)  { .sp-full-image img { height: 180px; } }

/* ---------------- HOW IT WORKS (grid + gradient icons) ---------------- */
.sp-how {
  padding: 44px 0 12px;
  text-align: center;
}
.sp-section-header { margin-bottom: 18px; }
.sp-section-header .sp-section-sub {
  color: var(--muted);
  margin-top: 8px;
  max-width: 760px;
  margin-left: auto;
  margin-right: auto;
  /* extra gap to separate subtitle and items */
  margin-bottom: var(--how-subgap-desktop);
}

.sp-how-grid {
  display: grid;
  gap: 28px;
  grid-template-columns: repeat(1,1fr);
  align-items: start;
  margin-top: var(--how-grid-top-desktop);
  max-width: var(--site-max);
  margin-left: auto;
  margin-right: auto;
}
@media (min-width:760px) { .sp-how-grid { grid-template-columns: repeat(2,1fr); } }
@media (min-width:1100px) { .sp-how-grid { grid-template-columns: repeat(4,1fr); } }

.sp-how-item {
  display:flex;
  gap:18px;
  align-items:flex-start;
  text-align:left;
  padding: 8px 12px;
}
.sp-how-icon {
  width:72px; height:72px; min-width:72px; border-radius:12px;
  display:flex; align-items:center; justify-content:center; flex-shrink:0;
  background: linear-gradient(180deg,#2aa0e6 0%, #174cbe 100%);
  box-shadow: 0 18px 40px rgba(16,24,40,0.06);
  color:#fff;
}
.sp-how-icon img { width:36px; height:36px; object-fit:contain; filter: brightness(0) invert(1); display:block; }
.sp-how-icon svg path, .sp-how-icon svg rect, .sp-how-icon svg circle { fill:#fff !important; stroke:#fff !important; }

.sp-how-title { margin:0 0 8px; font-weight:700; color:var(--text-color); font-size:1rem; }
.sp-how-text { margin:0; color:var(--muted); line-height:1.6; font-size:.95rem; }

/* Mobile adjustments for how section spacing */
@media (max-width:900px) {
  .sp-section-header .sp-section-sub { margin-bottom: 20px; }
  .sp-how-grid { margin-top: 18px; }
}

/* ---------------- REVIEWS SECTION ---------------- */
/* === Corrections: ensure reviews section doesn't create layout gaps when absent === */

/* Hide the reviews section when empty (defensive) */
.sp-reviews:empty {
  display: none !important;
}

/* If the plugin outputs an empty node inside .sp-reviews, hide the container too */
.sp-reviews .sp-reviews-inner:empty {
  display: none !important;
}
.sp-reviews .sp-reviews-inner:only-child:empty {
  display: none !important;
}

/* Ensure overall spacing is preserved if reviews section removed */
.sp-reviews { margin: 0; padding: 0; }

/* ---------------- FINAL CTA fallback (kept unchanged) ---------------- */
.sp-final-cta {
  padding: 48px 0;
  background: linear-gradient(180deg, rgba(43,123,255,0.04), rgba(43,123,255,0.01));
  margin-top: 48px;
}
.sp-final-cta-inner {
  max-width: var(--site-max);
  margin: 0 auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 20px;
  padding: 0 var(--container-pad);
  box-sizing: border-box;
}
.sp-final-cta-text { font-weight:700; color:var(--text-color); }
.sp-final-cta-button {
  background: var(--primary-blue);
  color:#fff;
  padding:10px 18px;
  border-radius:999px;
  text-decoration:none;
  font-weight:700;
  box-shadow: 0 8px 20px rgba(11,95,255,0.12);
}

/* ---------------- RESPONSIVE TWEAKS ---------------- */
@media (max-width:1100px) {
  .sp-intro-title { font-size: 1.6rem; }
  .sp-full-image img { height: 220px; }
}
@media (max-width:900px) {
  .sp-intro-body { column-gap: 28px; }
  .sp-full-image img { height: 180px; }
}

/* ---------------- ACCESSIBILITY / FOCUS ---------------- */
.sp-final-cta-button:focus { outline: 3px solid rgba(11,95,255,0.14); outline-offset: 2px; }

