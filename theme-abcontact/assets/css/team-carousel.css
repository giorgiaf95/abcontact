/* Team carousel - continuous loop stable, 5 items visible, no arrows
   Aggiornato per comportamento basato su scroll orizzontale nativo + scroll-snap
*/

/* Config */
:root {
  --team-safe-padding: 72px;    /* spazio minimo dai bordi finestra */
  --team-gap: 28px;            /* gap tra items */
  --team-item-count-visible: 5; /* usato come riferimento visivo (JS imposta larghezza) */
}

/* Layout base */
.cs-team {
  position: relative;
  /* overflow: visible !important;  <- removed (was conflicting) */
  padding: 56px 0 40px;
  box-sizing: border-box;
}
.cs-team-inner {
  max-width: 1180px;
  margin: 0 auto;
  padding: 0 20px;
  text-align: center;
  box-sizing: border-box;
}
.cs-team-header { margin-bottom: 56px; }
.cs-team-title { color: var(--color-primary); font-size: 1.45rem; margin-bottom: 8px; font-weight:700; }
.cs-team-sub { color: var(--color-muted); margin-bottom: 28px; max-width: 900px; margin-left:auto; margin-right:auto; }

/* Full-bleed band with safe padding
   NOTE: configured for scroll-based mode (overflow-x:auto) */
.cs-team-viewport {
  position: relative;
  width: 100vw;
  left: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  padding: 8px var(--team-safe-padding) 44px;
  box-sizing: border-box;

  /* allow horizontal scrolling (used by JS fallback) */
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;

  /* Visual: thin scrollbar, unobtrusive */
  scrollbar-width: thin;
  scrollbar-color: rgba(0,0,0,0.12) transparent;

  /* snap behaviour */
  scroll-snap-type: x proximity;
}

/* Track contains two inner wraps (JS duplicates one of them in transform-mode)
   For scroll-based mode the track must be flex and not animated via transform */
.cs-team-track {
  display: flex;
  align-items: flex-start;
  gap: var(--team-gap);
  box-sizing: border-box;
  /* remove transform-based animation by default */
  transform: none !important;
  will-change: auto;
}

/* wrapper for original items (duplicated by JS in other mode)
   Keep it flexible for both modes */
.cs-team-inner-wrap {
  display: flex;
  gap: var(--team-gap);
  align-items: flex-start;
  box-sizing: border-box;
}

/* Item: width will be set by JS so exactly 5 visible; fallback CSS provided */
.cs-team-item {
  flex: 0 0 auto; /* JS may set flex-basis in px */
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  overflow: visible;
  padding-top: 12px;

  /* Snap alignment for scroll-based UX */
  scroll-snap-align: start;
  -webkit-user-select: none;
  user-select: none;
}

/* fallback item sizing if JS hasn't run yet */
.cs-team-item {
  min-width: 220px;
  max-width: 320px;
  flex: 0 0 auto;
}

/* try to approximate 5-visible layout on wide screens (CSS-only fallback)
   JS will override with exact pixel widths if present */
@media (min-width: 1100px) {
  .cs-team-item {
    /* conservative calc taking into account gaps */
    min-width: calc((1180px - (var(--team-gap) * (var(--team-item-count-visible) - 1))) / var(--team-item-count-visible));
    max-width: none;
  }
}

/* Photo */
.cs-team-photo-wrap {
  width: 110px;
  height: 110px;
  border-radius: 999px;
  overflow: hidden;
  margin-bottom: 12px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 12px 36px rgba(16,24,40,0.12);
}
.cs-team-photo {
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:999px;
  display:block;
}

/* Compact card (3 lines) */
.cs-team-card {
  width: 100%;
  max-width: 260px; /* safety clamp */
  background: #fff;
  border-radius: 10px;
  padding: 10px 12px;
  box-shadow: 0 10px 26px rgba(16,24,40,0.04);
  box-sizing: border-box;
  min-height: 56px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
}
.cs-team-name { font-weight:700; color:var(--color-text); font-size:0.98rem; line-height:1.05; }
.cs-team-role, .cs-team-place { color:var(--color-muted); font-size:0.9rem; line-height:1.05; }

/* Controls: user asked to hide arrows; keep markup but hide visually */
.cs-team-controls { display: none !important; }

/* Responsive tweaks */
@media (max-width:1100px) {
  :root { --team-safe-padding: 48px; --team-gap: 22px; }
  .cs-team-photo-wrap { width: 96px; height:96px; }
  .cs-team-item { min-width: 220px; }
}
@media (max-width:760px) {
  :root { --team-safe-padding: 12px; --team-gap: 18px; }
  .cs-team-item { width: 80% !important; min-width: 220px; } /* JS may override */
  .cs-team-photo-wrap { width:84px; height:84px; }
  .cs-team-card { max-width: none; }
}

/* Optional: visually hide scrollbars on WebKit but still allow interaction */
.cs-team-viewport::-webkit-scrollbar {
  height: 8px;
}
.cs-team-viewport::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.12);
  border-radius: 999px;
}

/* Defensive: ensure track and items don't get inadvertently clipped by theme */
.cs-team-track,
.cs-team-inner-wrap,
.cs-team-item {
  box-sizing: border-box;
}

/* Accessibility: focus outline for items */
.cs-team-item:focus {
  outline: 3px solid rgba(11,95,255,0.12);
  outline-offset: 4px;
}

/* End of team-carousel.css */