/* ------------------------------
   Root variables (scale + weights)
   ------------------------------ */
:root {
  --font-sans: "Epilogue", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

  /* Weights (only load these from Google Fonts: 400, 600, 700) */
  --fw-regular: 400;
  --fw-medium: 600;
  --fw-bold: 700;

  /* Desktop sizes (rem, base 16px) */
  --fs-h1: 2.25rem;    /* 36px */
  --fs-h2: 1.75rem;    /* 28px */
  --fs-h3: 1.375rem;   /* 22px */
  --fs-h4: 1.125rem;   /* 18px */
  --fs-body: 1rem;     /* 16px */
  --fs-small: 0.9375rem; /* 15px */
  --fs-button: 0.9375rem; /* 15px */

  /* Line heights */
  --lh-body: 1.6;
  --lh-h1: 1.08;
  --lh-h2: 1.12;
  --lh-h3: 1.18;
  --lh-h4: 1.25;

  /* Colors (fallbacks) - adapt to your design system if present */
  --color-text: #1f2937;     /* dark slate */
  --color-muted: #6b7280;    /* muted */
  --color-primary: #0b5fff;  /* brand primary (example) */
  --color-bg: #ffffff;

  /* Service full image sensible defaults (used by service template) */
  --service-group-image-height: 320px;
  --service-group-image-max: 700px;
}

/* ------------------------------
   Base: body, paragraphs, links
   ------------------------------ */
html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }

body {
  font-family: var(--font-sans);
  font-size: var(--fs-body);
  font-weight: var(--fw-regular);
  line-height: var(--lh-body);
  color: var(--color-text);
  background-color: var(--color-bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Containers commonly used by themes / editors */
.entry-content,
.post-content,
.page-content,
.article-content,
.content,
.main-content {
  color: var(--color-text);
  font-size: var(--fs-body);
  line-height: var(--lh-body);
}

/* Preserve line breaks if needed: use class="preserve-linebreaks" */
.preserve-linebreaks {
  white-space: pre-line; /* respects newlines, collapses multiple spaces */
}

/* Paragraphs */
.entry-content p,
.page-content p,
.post-content p {
  margin: 0 0 1.15rem;
  color: var(--color-text);
  line-height: var(--lh-body);
}

/* Links */
a {
  color: var(--color-primary);
  text-decoration: underline;
}
a:hover, a:focus { text-decoration: none; }

/* ------------------------------
   Headings
   ------------------------------ */
h1, .h1 {
  font-size: var(--fs-h1);
  font-weight: var(--fw-bold);
  line-height: var(--lh-h1);
  margin: 0 0 0.6rem;
  color: var(--color-text);
}

h2, .h2 {
  font-size: var(--fs-h2);
  font-weight: var(--fw-medium);
  line-height: var(--lh-h2);
  margin: 0 0 0.6rem;
  color: var(--color-text);
}

h3, .h3 {
  font-size: var(--fs-h3);
  font-weight: var(--fw-medium);
  line-height: var(--lh-h3);
  margin: 0 0 0.5rem;
  color: var(--color-text);
}

h4, .h4 {
  font-size: var(--fs-h4);
  font-weight: var(--fw-medium);
  line-height: var(--lh-h4);
  margin: 0 0 0.5rem;
  color: var(--color-text);
}

/* Small headings / eyebrow */
.eyebrow, .eyebrow--small {
  font-size: 1.05rem;
  font-weight: var(--fw-medium);
  color: var(--color-primary);
  letter-spacing: 0.01em;
  margin-bottom: 0.4rem;
}

/* Headings: ensure accessible focus */
h1:focus, h2:focus, h3:focus, h4:focus {
  outline: none;
}
h1:focus-visible, h2:focus-visible, h3:focus-visible, h4:focus-visible {
  outline: 3px solid rgba(11,95,255,0.12);
  outline-offset: 4px;
}

/* ------------------------------
   Lists (fix visibility & spacing)
   ------------------------------ */
.entry-content ul,
.entry-content ol,
.post-content ul,
.post-content ol,
.page-content ul,
.page-content ol {
  list-style-position: outside;
  margin: 0 0 1.15rem 1.25rem;
  padding-left: 0;
  color: var(--color-text);
}

/* UL specific style */
.entry-content ul { list-style-type: disc; }
.entry-content ol { list-style-type: decimal; }

.entry-content li,
.post-content li,
.page-content li {
  margin: 0.4rem 0;
  line-height: 1.6;
}

/* Make markers visible and colored for emphasis */
.entry-content li::marker,
.post-content li::marker,
.page-content li::marker {
  color: var(--color-primary);
}

/* Nested lists */
.entry-content ul ul,
.entry-content ol ol,
.post-content ul ul,
.post-content ol ol {
  margin-top: 0.6rem;
  margin-bottom: 0.6rem;
}

/* ------------------------------
   Buttons / CTAs
   ------------------------------ */
.button,
.btn,
.cta-button,
a.button {
  font-family: var(--font-sans);
  font-weight: var(--fw-medium);
  font-size: var(--fs-button);
  line-height: 1;
  padding: 10px 18px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  cursor: pointer;
  border: none;
  color: #fff;
  background-color: var(--color-primary);
}

/* Secondary / ghost button */
.button--secondary {
  background: transparent;
  color: var(--color-primary);
  border: 1px solid rgba(11,95,255,0.12);
}

/* Button hover / focus */
.button:hover,
.button:focus {
  transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(11,95,255,0.08);
}
.button:focus-visible {
  outline: 3px solid rgba(11,95,255,0.12);
  outline-offset: 4px;
}

/* ------------------------------
   Small text / metadata
   ------------------------------ */
.small,
.byline,
.meta {
  font-size: var(--fs-small);
  color: var(--color-muted);
}

/* ------------------------------
   Service full-bleed image (center crop)
   - full-width to viewport edges
   - image covers area, centered
   ------------------------------ */
.sp-full-image {
  width: 100vw;
  box-sizing: border-box;
  position: relative;
  left: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  overflow: hidden;
  padding: 0;
  background: transparent;
}

.sp-full-image img.service-full-image {
  display: block;
  width: 100%;
  max-width: none; /* ignore inherited constraints */
  height: var(--service-group-image-height); /* controls box height */
  object-fit: cover;        /* crop without distortion */
  object-position: 50% 50%; /* center of image is preserved */
}

/* ------------------------------
   Accessibility & utilities
   ------------------------------ */
/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .button, .button * { transition: none !important; }
}

/* Simple helpers */
.text-center { text-align: center; }
.lead { font-size: 1.125rem; color: var(--color-muted); line-height: 1.5; }

/* ------------------------------
   Responsive adjustments (mobile)
   ------------------------------ */
@media (max-width: 900px) {
  :root {
    --fs-h1: 1.6rem;   /* ~25.6px */
    --fs-h2: 1.25rem;  /* 20px */
    --fs-h3: 1.125rem; /* 18px */
    --fs-h4: 1rem;     /* 16px */
    --fs-body: 1rem;
    --fs-button: 0.9375rem;
  }

  .sp-full-image img.service-full-image {
    height: 220px; /* lower height on small screens */
  }

  /* Slightly reduce spacing for very small screens */
  .entry-content p,
  .page-content p,
  .post-content p { margin-bottom: 1rem; }
}
